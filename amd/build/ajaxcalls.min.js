define("local_repositoryciae/ajaxcalls",["exports","jquery","core/ajax","core/notification"],(function(_exports,_jquery,_ajax,_notification){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.searchOa=_exports.searchIndex=_exports.searchCc=_exports.getFiles=void 0,_jquery=_interopRequireDefault(_jquery),_ajax=_interopRequireDefault(_ajax);_exports.searchIndex=function(selectedTypes,searchText,gradesSelected,selectOrder){_ajax.default.call([{methodname:"local_repositoryciae_loadjson",args:{selectedTypes:selectedTypes,searchText:searchText,gradesSelected:gradesSelected,selectOrder:selectOrder},fail:_notification.exception}])[0].then((function(data){return data.length>0?((0,_jquery.default)("#data").val(data[0].data),JSON.parse(data[0].data),data.length>0?data[0].data:"No data"):Error}))};_exports.getFiles=function(discussionId){_ajax.default.call([{methodname:"local_repositoryciae_load_discussion_files",args:{discussionId:discussionId},fail:_notification.exception}])[0].then((function(data){if(console.log(data),!(data.length>0))return Error;var $dropdown=(0,_jquery.default)("#linkid"),i=0;return _jquery.default.each(data,(function(){$dropdown.append((0,_jquery.default)("<option />").val(this.id).text(this.filename)),0===i&&(0,_jquery.default)("input[name=link]").val(this.id),i++})),data.length>0?data[0].data:"No data"}))};_exports.searchOa=function(gradesSelected){_ajax.default.call([{methodname:"local_repositoryciae_load_oa",args:{gradesSelected:gradesSelected},fail:_notification.exception}])[0].then((function(data){var $dropdown=(0,_jquery.default)("#id_oa");return $dropdown.empty(),data.length>0?(_jquery.default.each(data,(function(){$dropdown.append((0,_jquery.default)("<option />").val(this.id).text(this.description))})),!0):Error}))};_exports.searchCc=function(gradesSelected,lang){_ajax.default.call([{methodname:"local_repositoryciae_load_cc",args:{gradesSelected:gradesSelected},fail:_notification.exception}])[0].then((function(data){var $dropdown=(0,_jquery.default)("#id_culturalcontent2");if($dropdown.empty(),!(data.length>0))return Error;var i=0;return _jquery.default.each(data,(function(){switch(0==i&&(0,_jquery.default)("input[name=culturalcontent]").val(this.id),lang){case"es":""!=this.description_es&&$dropdown.append((0,_jquery.default)("<option />").val(this.id).text(this.description_es));break;case"en":""!=this.description_en&&$dropdown.append((0,_jquery.default)("<option />").val(this.id).text(this.description_en));break;case"arn":""!=this.description_arn&&$dropdown.append((0,_jquery.default)("<option />").val(this.id).text(this.description_arn))}window.console.log("cc"),i++})),!0}))}}));

//# sourceMappingURL=ajaxcalls.min.js.map
{"version":3,"file":"imagePixelated.min.js","sources":["../src/imagePixelated.js"],"sourcesContent":["import $ from \"jquery\";\r\nexport const init = (valuePixel) => {\r\n  var filter = 0;\r\n  var order = 0;\r\n  var orderusers = 0;\r\n\r\n  $('#filter_select').on('change',function(){\r\n    filter = $('#filter_select').val();\r\n    filteringDiscussions();\r\n  });\r\n\r\n  $('#order_select').on('change',function(){\r\n    order = $('#order_select').val();\r\n    filteringDiscussions();\r\n  });\r\n  $('#orderusers_select').on('change',function(){\r\n    orderusers = $('#orderusers_select').val();\r\n    filteringDiscussions();\r\n  });\r\n  function filteringDiscussions(){\r\n    window.location.replace(\"/local/repositoryciae/index.php?filter=\"+filter+\"&order=\"+order+\"&orderusers=\"+orderusers);\r\n  }\r\n\r\n  const pixelatedImage = document.querySelector(\"#pixelatedImage\");\r\n  // storying a copy of the original image\r\n  const originalImage = pixelatedImage.cloneNode(true);\r\n  const pixelationElement = document.querySelector(\"#pixelationRange\");\r\n\r\n  pixelationElement.oninput = (e) => {\r\n    pixelateImage(originalImage, parseInt(e.target.value));\r\n  };\r\n  pixelateImage(originalImage, parseInt(valuePixel));\r\n  window.console.log(valuePixel);\r\n\r\n  function pixelateImage(originalImage, pixelationFactor) {\r\n    const canvas = document.createElement(\"canvas\");\r\n    const context = canvas.getContext(\"2d\");\r\n    const originalWidth = originalImage.width;\r\n    const originalHeight = originalImage.height;\r\n    const canvasWidth = originalWidth;\r\n    const canvasHeight = originalHeight;\r\n    canvas.width = canvasWidth;\r\n    canvas.height = canvasHeight;\r\n    context.drawImage(originalImage, 0, 0, originalWidth, originalHeight);\r\n    const originalImageData = context.getImageData(\r\n      0,\r\n      0,\r\n      originalWidth,\r\n      originalHeight\r\n    ).data;\r\n    if (pixelationFactor !== 0) {\r\n      for (let y = 0; y < originalHeight; y += pixelationFactor) {\r\n        for (let x = 0; x < originalWidth; x += pixelationFactor) {\r\n          // extracting the position of the sample pixel\r\n          const pixelIndexPosition = (x + y * originalWidth) * 4;\r\n          // drawing a square replacing the current pixels\r\n          context.fillStyle = `rgba(\r\n            ${originalImageData[pixelIndexPosition]},\r\n            ${originalImageData[pixelIndexPosition + 1]},\r\n            ${originalImageData[pixelIndexPosition + 2]},\r\n            ${originalImageData[pixelIndexPosition + 3]}\r\n          )`;\r\n          context.fillRect(x, y, pixelationFactor, pixelationFactor);\r\n        }\r\n      }\r\n    }\r\n    pixelatedImage.src = canvas.toDataURL();\r\n  }\r\n};"],"names":["valuePixel","filter","order","orderusers","filteringDiscussions","window","location","replace","on","val","pixelatedImage","document","querySelector","originalImage","cloneNode","pixelateImage","pixelationFactor","canvas","createElement","context","getContext","originalWidth","width","originalHeight","height","canvasWidth","canvasHeight","drawImage","originalImageData","getImageData","data","y","x","pixelIndexPosition","fillStyle","fillRect","src","toDataURL","oninput","e","parseInt","target","value","console","log"],"mappings":"yPACoB,SAACA,gBACfC,OAAS,EACTC,MAAQ,EACRC,WAAa,WAeRC,uBACPC,OAAOC,SAASC,QAAQ,0CAA0CN,OAAO,UAAUC,MAAM,eAAeC,gCAdxG,kBAAkBK,GAAG,UAAS,WAC9BP,QAAS,mBAAE,kBAAkBQ,MAC7BL,8CAGA,iBAAiBI,GAAG,UAAS,WAC7BN,OAAQ,mBAAE,iBAAiBO,MAC3BL,8CAEA,sBAAsBI,GAAG,UAAS,WAClCL,YAAa,mBAAE,sBAAsBM,MACrCL,8BAMIM,eAAiBC,SAASC,cAAc,mBAExCC,cAAgBH,eAAeI,WAAU,YAStCC,cAAcF,cAAeG,sBAC9BC,OAASN,SAASO,cAAc,UAChCC,QAAUF,OAAOG,WAAW,MAC5BC,cAAgBR,cAAcS,MAC9BC,eAAiBV,cAAcW,OAC/BC,YAAcJ,cACdK,aAAeH,eACrBN,OAAOK,MAAQG,YACfR,OAAOO,OAASE,aAChBP,QAAQQ,UAAUd,cAAe,EAAG,EAAGQ,cAAeE,oBAChDK,kBAAoBT,QAAQU,aAChC,EACA,EACAR,cACAE,gBACAO,QACuB,IAArBd,qBACG,IAAIe,EAAI,EAAGA,EAAIR,eAAgBQ,GAAKf,qBAClC,IAAIgB,EAAI,EAAGA,EAAIX,cAAeW,GAAKhB,iBAAkB,KAElDiB,mBAA+C,GAAzBD,EAAID,EAAIV,eAEpCF,QAAQe,uCACJN,kBAAkBK,8CAClBL,kBAAkBK,mBAAqB,6BACvCL,kBAAkBK,mBAAqB,6BACvCL,kBAAkBK,mBAAqB,oBAE3Cd,QAAQgB,SAASH,EAAGD,EAAGf,iBAAkBA,kBAI/CN,eAAe0B,IAAMnB,OAAOoB,YAxCJ1B,SAASC,cAAc,oBAE/B0B,QAAU,SAACC,GAC3BxB,cAAcF,cAAe2B,SAASD,EAAEE,OAAOC,SAEjD3B,cAAcF,cAAe2B,SAASxC,aACtCK,OAAOsC,QAAQC,IAAI5C"}